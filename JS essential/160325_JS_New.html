<!DOCTYPE html>  
<html  
<head>  
    <meta charset="UTF-8">  
    <script type="text/javascript">
        
        // New operator.
        
        //1.如果就一个函数，没有返回值，没有prototype成员，然后使用new,会是什么结果呢？
        //如果一个函数没有返回值，那么如果不使用new来创建变量，那么该变量的值为undefined.
        //如果用了new，那么就是Object.说明一个函数的默认的Prototype是Object.
        function Test1(str) {
            this.a = str;
        }
        var myTest = new Test1("test1");
        alert(myTest); //[object Object]
        
        function Test1WithoutNew(str) {
            this.a = str;
        }
        var myTestWithoutNew = Test1WithoutNew("test1");
        alert(myTestWithoutNew); //undefined;
        
        
        //2.如果函数有返回值，但是返回值是基本类型。那么new出来的myTest还是object.
        //因为基本类型的prototype还是Object.
        //而如果不使用new，那么返回值就是string的值。
        function Test2(str) {
            this.a = str;
            return this.a;
        }
        var myTest = new Test2("test1");
        alert(myTest); //Object
        
        function Test2WithoutNew(str) {
            this.a = str;
            return this.a;
        }
        var myTestWithoutNew2 = Test2WithoutNew("test1");
        alert(myTestWithoutNew2); //"test1"
        
        
        //3. 如果函数的返回值为new出来的对象，那么myTest的值根据new出来的对象的prototype而定。
        function Test3(str) {
            this.a = str;
            return new String(this.a);
        }
        var myTest = new Test3("test2");
        alert(myTest); //String "test2"
    </script>  
</head> 
<body></body>  
</html>  